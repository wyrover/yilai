doctype html
html(style="width:100%;height:100%")
  head
    meta(charset="UTF-8")
    title 健康管家
    meta(name="viewport", content="width=device-width, initial-scale=1.0, minimum-scale=1.0 , maximum-scale=1.0, user-scalable=0")
    //- meta(name="MobileOptimized", content="320")
    meta(name="apple-mobile-web-app-capable", content="yes")
    meta(name="apple-mobile-web-app-status-bar-style", content="black")
    meta(name="format-detection", content="telephone=no")
    meta(http-equiv="Cache-Control", content="no-cache, no-store, must-revalidate")
    meta(http-equiv="Pragma", content="no-cache")
    meta(http-equiv="Expires", content="0")
    script(src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js")

  body(style="width:100%;height:100%;margin:0")
    .box
      .spinner
        .spinner-container.container1
          .circle1
          .circle2
          .circle3
          .circle4
        .spinner-container.container2
          .circle1
          .circle2
          .circle3
          .circle4
        .spinner-container.container3
          .circle1
          .circle2
          .circle3
          .circle4
    style.
      .box{
        width:100%;
        height:100%;
        padding-top:100px;
        background-color:#333;
      }
      .spinner {
        margin: 0 auto;
        width: 20px;
        height: 20px;
        position: relative;
      }

      .container1 > div, .container2 > div, .container3 > div {
        width: 6px;
        height: 6px;
        background-color: #fff;

        border-radius: 100%;
        position: absolute;
        -webkit-animation: bouncedelay 1.2s infinite ease-in-out;
        animation: bouncedelay 1.2s infinite ease-in-out;
        -webkit-animation-fill-mode: both;
        animation-fill-mode: both;
      }

      .spinner .spinner-container {
        position: absolute;
        width: 100%;
        height: 100%;
      }

      .container2 {
        -webkit-transform: rotateZ(45deg);
        transform: rotateZ(45deg);
      }

      .container3 {
        -webkit-transform: rotateZ(90deg);
        transform: rotateZ(90deg);
      }

      .circle1 { top: 0; left: 0; }
      .circle2 { top: 0; right: 0; }
      .circle3 { right: 0; bottom: 0; }
      .circle4 { left: 0; bottom: 0; }

      .container2 .circle1 {
        -webkit-animation-delay: -1.1s;
        animation-delay: -1.1s;
      }

      .container3 .circle1 {
        -webkit-animation-delay: -1.0s;
        animation-delay: -1.0s;
      }

      .container1 .circle2 {
        -webkit-animation-delay: -0.9s;
        animation-delay: -0.9s;
      }

      .container2 .circle2 {
        -webkit-animation-delay: -0.8s;
        animation-delay: -0.8s;
      }

      .container3 .circle2 {
        -webkit-animation-delay: -0.7s;
        animation-delay: -0.7s;
      }

      .container1 .circle3 {
        -webkit-animation-delay: -0.6s;
        animation-delay: -0.6s;
      }

      .container2 .circle3 {
        -webkit-animation-delay: -0.5s;
        animation-delay: -0.5s;
      }

      .container3 .circle3 {
        -webkit-animation-delay: -0.4s;
        animation-delay: -0.4s;
      }

      .container1 .circle4 {
        -webkit-animation-delay: -0.3s;
        animation-delay: -0.3s;
      }

      .container2 .circle4 {
        -webkit-animation-delay: -0.2s;
        animation-delay: -0.2s;
      }

      .container3 .circle4 {
        -webkit-animation-delay: -0.1s;
        animation-delay: -0.1s;
      }

      @-webkit-keyframes bouncedelay {
        0%, 80%, 100% { -webkit-transform: scale(0.0) }
        40% { -webkit-transform: scale(1.0) }
      }

      @keyframes bouncedelay {
        0%, 80%, 100% {
          transform: scale(0.0);
          -webkit-transform: scale(0.0);
        } 40% {
          transform: scale(1.0);
          -webkit-transform: scale(1.0);
        }
      }

    script.
      var wxmsg= {
        getUrlStr:function(name){
          var result = null;
          if(window.location.href.split(name+"=")[1]){
            var result = window.location.href.split(name+"=")[1].split("&")[0];
          }
           return result;
        }
      };
      function goNewUrl(urlName){
        if(urlName){
        //window.location.href = "http://192.168.6.30:3000/#!/"+urlName
        window.location.href = "http://test.xlink.cn/yilai/wx/#!/"+urlName
        }
      }


      localStorage.code = wxmsg.getUrlStr("code");
      //alert(wxmsg.getUrlStr("code"));
      goNewUrl(wxmsg.getUrlStr("linkto"));


      //- $.ajax({
      //-   type : 'get',
      //-   url : "api_url",
      //-   data : params,
      //-   async : false,
      //-   dataType : 'jsonp', // 因为跨域了，必须指定这个
      //-   jsonp : "signatureCallback", // 这个也是跨域必须指定的，不要改，和服务器统一
      //-   jsonpCallback : "callbackFunc", // 这个也是为了跨域，不要改
      //-   success : function(data) {
      //-     if (data.status == 200) {
      //-       alert(data)
      //-     } else {
      //-       alert("获取签名失败！" + data.status);
      //-     }
      //-   },
      //-   error : function() {
      //-     alert("获取签名失败！");
      //-   }
      //- });




